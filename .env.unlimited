# UNLIMITED ANTHROPIC CONFIGURATION
# Use this for Claude 3.5 Sonnet and Haiku without weekly limits
# Copy to .env.local: cp .env.unlimited .env.local

# Application Configuration
APP_MODE=LOCAL                     # LOCAL or CLOUD
NODE_ENV=development

# Model Provider Selection
MODEL_PROVIDER=anthropic           # Use Anthropic for unlimited Sonnet/Haiku access

# Anthropic Configuration - OPTIMIZED FOR UNLIMITED USAGE
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key
ANTHROPIC_MODEL=claude-3-5-haiku-20241022        # PRIMARY: Haiku for 95% of tasks
ANTHROPIC_SONNET_MODEL=claude-3-5-sonnet-20241022 # SECONDARY: Sonnet for complex reasoning only
ANTHROPIC_ENABLE_CACHING=true                    # Enable prompt caching for additional savings
ANTHROPIC_CACHE_TTL=7200                        # 2 hour cache TTL (longer for unlimited usage)
ANTHROPIC_USE_SMART_ROUTING=true                # CRITICAL: Smart routing between models

# Enhanced Smart Routing Settings
SMART_ROUTING_THRESHOLD=4                       # Higher threshold = more Haiku usage
ENABLE_AGENT_SPECIFIC_ROUTING=true             # Route by agent type
HAIKU_AGENTS=SymptomParser,EmpathyCoach        # Always use Haiku for these
SONNET_AGENTS=RiskStratifier,CarePathway       # Consider Sonnet for these (if complex)

# Batch Processing - MAXIMUM EFFICIENCY
ANTHROPIC_ENABLE_BATCHING=true                 # Enable batch processing
ANTHROPIC_BATCH_SIZE=100                       # Max batch size
ANTHROPIC_BATCH_WAIT_TIME=3000                 # Shorter wait for responsiveness  
ANTHROPIC_BATCH_THRESHOLD=3                    # Lower threshold = more batching

# Cost Tracking (even though unlimited)
ENABLE_PROMPT_CACHING=true
CACHE_HIT_RATE_TARGET=0.85                     # Higher cache target
LOG_CACHE_METRICS=true
ESTIMATE_TOKEN_COSTS=false                     # Disable cost tracking (unlimited)
LOG_MODEL_SELECTION=true                       # Track Haiku vs Sonnet usage

# Performance Optimization
ENABLE_RESPONSE_CACHING=true
CACHE_TTL_SECONDS=600                          # 10 minute response cache
MAX_CONCURRENT_AGENTS=10                       # Higher concurrency (no cost limit)

# Development Settings
ENABLE_API_DOCS=true
ENABLE_DEBUG_ROUTES=true
MOCK_LLM_RESPONSES=false
LOG_LEVEL=info

# Content Safety
ENABLE_CONTENT_FILTERING=true
MAX_INPUT_LENGTH=4000                          # Higher limit for complex cases
MIN_CONFIDENCE_THRESHOLD=0.6

# Feature Flags
ENABLE_MEMORY_RAG=false                        # Keep disabled for local dev
ENABLE_VOICE_INPUT=false
ENABLE_MULTI_LANGUAGE=false
ENABLE_ADVANCED_REASONING=true                 # Enable advanced reasoning

# Data Storage
VECTOR_DB_PATH=./.data/triage.sqlite
FHIR_REPO_TYPE=local

# Security
SESSION_SECRET=unlimited-triage-secret
ENABLE_RATE_LIMITING=false                     # Disable rate limiting (unlimited)
MAX_REQUESTS_PER_MINUTE=0                      # No limit

# Telemetry
ENABLE_TELEMETRY=true
OTEL_SERVICE_NAME=unlimited-triage-conductor