# Application Configuration
APP_MODE=LOCAL                     # LOCAL or CLOUD
NODE_ENV=development

# Model Provider Selection
MODEL_PROVIDER=anthropic           # openai | anthropic | azure

# OpenAI Configuration  
OPENAI_API_KEY=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
# OPENAI_ORG_ID=org-your-org-id
LLM_MODEL=gpt-4o-mini
EMBEDDINGS_MODEL=text-embedding-3-small

# Anthropic Configuration (with Prompt Caching + Batch Processing)
ANTHROPIC_API_KEY=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
ANTHROPIC_MODEL=claude-3-5-haiku-20241022    # Use Haiku for maximum cost savings
ANTHROPIC_SONNET_MODEL=claude-3-5-sonnet-20241022  # Optional: Sonnet for complex tasks
ANTHROPIC_ENABLE_CACHING=true      # Enable prompt caching for cost savings
ANTHROPIC_CACHE_TTL=3600          # Cache TTL in seconds (1 hour)
ANTHROPIC_USE_SMART_ROUTING=true   # Auto-route complex tasks to Sonnet if needed

# Batch Processing (50% additional cost savings)
ANTHROPIC_ENABLE_BATCHING=true     # Enable Message Batches API
ANTHROPIC_BATCH_SIZE=100          # Max requests per batch (max: 10,000)
ANTHROPIC_BATCH_WAIT_TIME=5000    # Wait time in ms before processing batch
ANTHROPIC_BATCH_THRESHOLD=5       # Minimum requests to trigger batching

# Azure Configuration
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-key
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-01

# Data Storage
VECTOR_DB_PATH=./.data/triage.sqlite
FHIR_REPO_TYPE=local              # local | hapi | azure

# Optional: HAPI FHIR Server (if using Docker)
HAPI_FHIR_BASE_URL=http://localhost:8080/fhir

# Logging & Monitoring
LOG_LEVEL=info                     # debug | info | warn | error
ENABLE_TELEMETRY=true
OTEL_SERVICE_NAME=triage-conductor
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Security
SESSION_SECRET=your-session-secret
ENABLE_RATE_LIMITING=true
MAX_REQUESTS_PER_MINUTE=60

# Development Settings
ENABLE_API_DOCS=true
ENABLE_DEBUG_ROUTES=true
MOCK_LLM_RESPONSES=false          # Set to true for testing without API calls

# Performance & Caching
ENABLE_RESPONSE_CACHING=true
CACHE_TTL_SECONDS=300             # 5 minutes
MAX_CONCURRENT_AGENTS=5

# Content Safety
ENABLE_CONTENT_FILTERING=true
MAX_INPUT_LENGTH=2000
MIN_CONFIDENCE_THRESHOLD=0.6

# Cost Optimization Settings
ENABLE_PROMPT_CACHING=true        # Global prompt caching toggle
CACHE_HIT_RATE_TARGET=0.8         # Target 80% cache hit rate
LOG_CACHE_METRICS=true            # Log caching performance metrics
ESTIMATE_TOKEN_COSTS=true         # Track estimated API costs

# Feature Flags
ENABLE_VOICE_INPUT=false          # Voice input feature (future)
ENABLE_MULTI_LANGUAGE=false       # Multi-language support (future)
ENABLE_ADVANCED_REASONING=false   # Advanced clinical reasoning (future)
ENABLE_MEMORY_RAG=false           # Memory Augmented RAG (Azure only)